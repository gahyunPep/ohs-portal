<div style="margin: 20px 0">
  <app-search-bar (keyUpEvent)="applyFilter($event)"></app-search-bar>
</div>
<div class="table">
  <mat-table [dataSource]="dataSource" matSort #table>
    <ng-container matColumnDef="action-title">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        Action item
      </mat-header-cell>
      <mat-cell *matCellDef="let element">
        <span (click)="openEditDialog(element)">
          {{ element.actionItemTitle }}
        </span>
        <!-- <a href="#" (click)="openEditDialog(element)">
          {{ element.actionItemTitle }}
        </a> -->
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="assignee">
      <mat-header-cell *matHeaderCellDef mat-sort-header
        >Assigned to</mat-header-cell
      >
      <mat-cell *matCellDef="let element">
        <mat-chip-list>
          <mat-chip
            *ngIf="element.assignedTo != ''"
            [ngStyle]="{ backgroundColor: element.color }"
          >
            {{ element.assignedTo }}
            <mat-icon matChipRemove (click)="removeAssignee(element)"
              >cancel</mat-icon
            >
          </mat-chip>
        </mat-chip-list>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="created">
      <mat-header-cell *matHeaderCellDef mat-sort-header
        >Created</mat-header-cell
      >
      <mat-cell *matCellDef="let element">{{ element.created }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="due">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Due</mat-header-cell>
      <mat-cell *matCellDef="let element">{{ element.due }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="priority">
      <mat-header-cell *matHeaderCellDef mat-sort-header
        >Priority</mat-header-cell
      >
      <mat-cell *matCellDef="let element">{{ element.priority }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="status">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        Status
      </mat-header-cell>
      <mat-cell *matCellDef="let element">
        <app-button-dropdown
          selectedId="{{ element.status }}"
          (statusUpdateEvent)="handleStatusUpdate($event, element)"
        >
        </app-button-dropdown>
        <!-- {{ element.status }} -->
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>

  <mat-paginator
    appStylePaginator
    [length]="dataSource.data.length"
    [pageSize]="15"
    showFirstLastButtons
  >
  </mat-paginator>

  <!-- (page)="pageChangeEvent($event)" -->
  <!-- <mat-paginator
    [appStylePaginator]
    showFirstLastButtons
    [length]="dataSource.data.length"
    [pageSize]="7"
  ></mat-paginator> -->
</div>
<!-- paginator ref: https://stackblitz.com/edit/angular-8holwx?file=src%2Fapp%2Fmaterial-module.ts -->
<!-- paginator ref: https://stackoverflow.com/questions/53646259/how-to-customize-mat-paginator-in-angular-material -->
