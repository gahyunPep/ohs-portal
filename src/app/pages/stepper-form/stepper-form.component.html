<mat-horizontal-stepper
  #stepper
  linear="true"
  disableRipple="true"
  labelPosition="bottom"
  class="custom-step-progress-bar"
>
  <mat-step [stepControl]="firstFormGroup" [editable]="isEditable">
    <ng-template matStepLabel>Committee information &nbsp;</ng-template>
    <form
      [formGroup]="firstFormGroup"
      fxLayout="column"
      fxLayoutAlign="center center"
    >
      <mat-form-field appearance="fill">
        <mat-label>Committee name</mat-label>
        <input
          matInput
          formControlName="committeeNameCtrl"
          placeholder="Committee name"
        />
      </mat-form-field>

      <app-dropdown
        disabled="false"
        label="Operating health authority"
        [options]="operatingHA"
        [control]="firstFormGroup.get('operatingHACtrl')"
      >
      </app-dropdown>

      <mat-form-field hintLabel="Should not be empty">
        <mat-label>Last Name</mat-label>
        <input
          matInput
          formControlName="lastNameCtrl"
          placeholder="Last name"
          required
        />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Email</mat-label>
        <input
          matInput
          formControlName="emailCtrl"
          placeholder="Email"
          required
          email
          #emailInput
        />
        <mat-error *ngIf="emailInput.value?.length === 0">
          Field must not be empty.
        </mat-error>
        <mat-error *ngIf="emailInput.value?.length != 0">
          E-mail is invalid.
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Appointment date</mat-label>
        <input
          matInput
          placeholder="Your Appointment date"
          [matDatepicker]="picker"
          [min]="minDate"
        />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Birth date</mat-label>
        <input
          matInput
          placeholder="your birth date"
          [matDatepicker]="birthPicker"
          [max]="maxDate"
        />
        <mat-datepicker-toggle
          matSuffix
          [for]="birthPicker"
        ></mat-datepicker-toggle>
        <mat-datepicker #birthPicker></mat-datepicker>
        <mat-hint>Age should be bigger than 18</mat-hint>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Description</mat-label>
        <textarea
          matInput
          cols="30"
          rows="10"
          formControlName="descCtrl"
          placeholder="Description"
          required
          minlength="10"
          #descInput
        ></textarea>
        <mat-hint align="end">{{ descInput.value?.length }} / 10</mat-hint>
      </mat-form-field>

      <div>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="secondFormGroup" [editable]="isEditable">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Terms of Reference &nbsp;</ng-template>
      <mat-form-field>
        <mat-label>Address</mat-label>
        <input
          matInput
          formControlName="secondCtrl"
          placeholder="Ex. 1 Main St, New York, NY"
          required
        />
      </mat-form-field>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Identify co-chairs &nbsp;</ng-template>
    <p>You are now done.</p>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="stepper.reset()">Reset</button>
    </div>
  </mat-step>
</mat-horizontal-stepper>
